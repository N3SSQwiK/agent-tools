description = "Have spokes challenge the hub's plan before execution"
prompt = """
You are executing the /maestro challenge command.

Your Goal: Have spokes challenge the hub's plan before execution.

## User Input
{{args}}

## Purpose

Different AI models have different blind spots. Cross-tool challenge leverages this diversity to catch plan flaws before expensive execution.

## When to Use

After `/maestro plan`, before user approval or `/maestro run`.

## Behavior

1. Load plan from `.ai/MAESTRO.md`
   - If not exists: "No active plan. Run `/maestro plan <goal>` first."

2. Build challenge prompt with plan summary and codebase context

3. Dispatch to one or more spokes for analysis:
   - Default: Use a different tool than the hub
   - Flag `--tool=<name>` to specify challenger

4. Collect challenge responses

5. Synthesize feedback into categories:
   - Assumption issues
   - Missing dependencies
   - Scope concerns
   - Alternative approaches

6. Present challenges to user with response menu:
   ```
   How would you like to proceed?

   1. Revise — Incorporate feedback and update the plan
   2. Proceed — Continue with current plan despite concerns
   3. Reject — Discard this plan and start over
   4. Other — Type a different response
   ```

7. If user chooses to revise, update `.ai/MAESTRO.md`

## Challenge Handoff Template

Send to challenger spoke:
```markdown
## Task
Review this orchestration plan and challenge any assumptions, gaps, or issues.

## Plan Summary
**Goal:** [objective]
**Tasks:**
1. [task 1 description] - [specialist] via [tool]
2. [task 2 description] - [specialist] via [tool]

## Context
[Key files and patterns from reconnaissance]

## Challenge Focus
- Are there flawed assumptions about the codebase?
- Are dependencies between tasks correct?
- Are tasks appropriately scoped?
- Are there better approaches the plan missed?
- Are success criteria testable and complete?

## Output Format
Return challenges as markdown with sections: Assumption Issues, Missing Dependencies, Scope Concerns, Alternative Approaches.
```

## Default Challenger Selection

If no tool specified:
- If hub is Gemini → Challenge with Codex CLI

## Rules
- Challenge before execution, not after
- Present all challenges objectively, don't dismiss concerns
- Let user make final decision on how to proceed
- Log challenge results if logging enabled
- A challenge finding "no issues" is valid and should be reported
- Hub tool name is "Gemini CLI"

## Flags
- `--tool=<name>`: Specify challenger tool
- `--all`: Challenge with all available tools
"""
